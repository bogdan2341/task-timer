(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{86:function(t,e,n){"use strict";n.r(e);var a=n(0),i=n.n(a),r=n(9),c=n.n(r),s=n(122),o=n(16),u=n(49),d="ADD_TASK_TIMER",j="DELETE_TASK_TIMER",l="SET_TIMERS",b="PAUSE_TIMER",m="RESUME_TIMER",O=n(114),g=n(123),p=n(119),f=n(60),x=n.n(f),v=n(30),T=n.n(v),h=n(6),y=Object(O.a)((function(t){return{root:{marginTop:t.spacing(2),padding:t.spacing(3),display:"flex",justifyContent:"space-between"},textField:{flexGrow:2,marginRight:t.spacing(1)}}}));var E=function(){var t=Object(a.useState)(""),e=Object(u.a)(t,2),n=e[0],i=e[1],r=Object(o.b)(),c=y(),s=function(){var t,e,a,c=n||"Task#[".concat(T()().format("HH:mm:ss"),"]");return i(""),r((t=Math.random().toString(36).substr(2,9),e=c,a=Date.now(),{type:d,payload:{id:t,title:e,startingTime:a,pausingTime:0,isPaused:!1}}))};return Object(h.jsxs)("div",{className:c.root,children:[Object(h.jsx)(g.a,{variant:"outlined",className:c.textField,type:"text",onChange:function(t){return i(t.target.value)},value:n,label:"Task title",onKeyPress:function(t){"Enter"===t.key&&s()}}),Object(h.jsx)(p.a,{onClick:s,variant:"contained",color:"primary",children:Object(h.jsx)(x.a,{})})]})},I=n(48),S=n(118),k=n(120),P=n(63),w=n.n(P),N=n(61),A=n.n(N),R=n(62),M=n.n(R),C=Object(O.a)((function(t){return{root:{display:"inline-block"}}})),D=function(t){var e=T.a.duration(t).hours(),n=T.a.duration(t).minutes(),a=T.a.duration(t).seconds();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,"".concat(e=e<10?"0"+e:e,":").concat(n,":").concat(a)};var _=function(t){var e=C(),n=Object(a.useState)(0),i=Object(u.a)(n,2),r=i[0],c=i[1];return Object(a.useEffect)((function(){var e;return t.isPaused?(clearInterval(e),c(t.pausingTime-t.startingTime)):e=setInterval((function(){c(Date.now()-t.startingTime)}),100),function(){clearInterval(e)}}),[t.isPaused]),Object(h.jsx)("div",{className:e.root,children:D(r)})},J=n(50),K=n(3),W=Object(O.a)((function(t){return{root:{margin:t.spacing(1),padding:t.spacing(2),display:"flex",justifyContent:"space-between",alignItems:"center",transition:".2s ease-in"},paused:{fontWeight:"bold",backgroundColor:J.a[50],transition:".2s ease-out"}}}));var F=function(t){var e=W(),n=Object(o.b)(),a=function(){return t.isPaused?n((e=t.timerId,a=Date.now(),{type:m,payload:{id:e,time:a}})):n(function(t,e){return{type:b,payload:{id:t,time:e}}}(t.timerId,Date.now()));var e,a};return Object(h.jsxs)(S.a,{className:Object(K.a)(e.root,Object(I.a)({},e.paused,!t.isPaused)),children:[t.title,Object(h.jsxs)("div",{children:[Object(h.jsx)(_,{startingTime:t.startingTime,isPaused:t.isPaused,pausingTime:t.pausingTime}),Object(h.jsx)(k.a,{onClick:function(){return a()},children:t.isPaused?Object(h.jsx)(A.a,{color:"primary"}):Object(h.jsx)(M.a,{color:"primary"})}),Object(h.jsx)(k.a,{onClick:t.onRemove,children:Object(h.jsx)(w.a,{color:"error"})})]})]})},H=n(121),U=Object(O.a)((function(t){return{root:{margin:t.spacing(1),padding:t.spacing(1)},text:{padding:t.spacing(2),textAlign:"center"}}}));var B=function(){var t=Object(o.c)((function(t){return t.timers})),e=Object(o.b)(),n=U();return t.length?Object(h.jsx)("div",{className:n.root,children:t.map((function(t){return Object(h.jsx)(F,{onRemove:function(){return e((n=t.id,{type:j,payload:{id:n}}));var n},isPaused:t.isPaused,startingTime:t.startingTime,pausingTime:t.pausingTime,timerId:t.id,title:t.title},t.id)}))}):Object(h.jsx)(H.a,{className:n.text,variant:"body1",color:"textSecondary",children:"Add new task"})},G=Object(O.a)((function(t){return{root:{maxWidth:"560px",textAlign:"center",margin:"auto",marginTop:t.spacing(2)},logo:{color:J.a[500],fontWeight:"bold"}}}));var L=function(t){var e=t.children,n=Object(o.c)((function(t){return t.timers})),i=Object(o.b)(),r=G();return Object(a.useEffect)((function(){var t=JSON.parse(localStorage.getItem("timers"));t&&t.length&&i({type:l,payload:{timersArray:t}})}),[]),Object(a.useEffect)((function(){localStorage.setItem("timers",JSON.stringify(n))}),[n]),Object(h.jsxs)("div",{className:r.root,children:[Object(h.jsx)(H.a,{variant:"h3",className:r.logo,children:"Tracker"}),Object(h.jsx)(S.a,{children:e})]})},q=n(44),z=n(64),Q=n(14),V={timers:[]};var X=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,e=arguments.length>1?arguments[1]:void 0,n=e.payload,a=e.type;switch(a){case d:return Object(Q.a)(Object(Q.a)({},t),{},{timers:[n].concat(Object(z.a)(t.timers))});case j:return Object(Q.a)(Object(Q.a)({},t),{},{timers:t.timers.filter((function(t){return t.id!==n.id}))});case m:return console.log(t),Object(Q.a)(Object(Q.a)({},t),{},{timers:t.timers.map((function(t){return t.id===n.id?Object(Q.a)(Object(Q.a)({},t),{},{isPaused:!1,pausingTime:t.pausingTime,startingTime:t.startingTime+(n.time-t.pausingTime)}):t}))});case b:return console.log(t),Object(Q.a)(Object(Q.a)({},t),{},{timers:t.timers.map((function(t){return t.id===n.id?Object(Q.a)(Object(Q.a)({},t),{},{isPaused:!0,pausingTime:n.time}):t}))});case l:return Object(Q.a)(Object(Q.a)({},t),{},{timers:n.timersArray});default:return t}},Y=Object(q.b)(X);var Z=function(){return Object(h.jsxs)(o.a,{store:Y,children:[Object(h.jsx)(s.a,{}),Object(h.jsxs)(L,{children:[Object(h.jsx)(E,{}),Object(h.jsx)(B,{})]})]})};n(85);c.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(Z,{})}),document.getElementById("root"))}},[[86,1,2]]]);
//# sourceMappingURL=main.2e3c8f4d.chunk.js.map