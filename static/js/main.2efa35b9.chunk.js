(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{100:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),s=n(139),o=n(140),d=n(14),l=n(35),u=n(24),j=n(11),b=n(77),m=n(142),O=n(133),g="ADD_TASK_TIMER",p="DELETE_TASK_TIMER",x="SET_TIMERS",f="SET_DELETED_TIMERS",h="PAUSE_TIMER",v="RESUME_TIMER",T="DESTROY_DELETED_TIMER",y=n(127),E=n(130),S=n(131),k=n(143),I=n(132),D=n(4);var w=function(e){var t=e.tabValue,n=e.tabChangeHandler;return Object(D.jsxs)(y.a,{position:"sticky",color:"primary",children:[Object(D.jsx)(E.a,{children:Object(D.jsx)(S.a,{variant:"h5",style:{margin:"auto"},children:"Tasks Timer"})}),Object(D.jsxs)(k.a,{value:t,onChange:n,indicatorColor:"secondary",centered:!0,children:[Object(D.jsx)(I.a,{label:"Current"}),Object(D.jsx)(I.a,{label:"Deleted"})]})]})},P=n(78),A=n(141),C=n(134),R=n(71),M=n.n(R),N=n(28),_=n.n(N),J=Object(O.a)((function(e){return{root:{padding:e.spacing(2),display:"flex",justifyContent:"space-between"},textField:{flexGrow:2,marginRight:e.spacing(1)}}}));var F=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],r=t[1],i=Object(d.b)(),c=J(),s=function(){var e=n||"Task#[".concat(_()().format("HH:mm:ss"),"]");return r(""),i(function(e,t,n){return{type:g,payload:{id:e,title:t,startingTime:n,pausingTime:0,isPaused:!1}}}(Math.random().toString(36).substr(2,9),e,Date.now()))};return Object(D.jsxs)(P.a,{className:c.root,children:[Object(D.jsx)(A.a,{variant:"outlined",className:c.textField,type:"text",onChange:function(e){return r(e.target.value)},value:n,label:"Task title",onKeyPress:function(e){"Enter"===e.key&&s()}}),Object(D.jsx)(C.a,{onClick:s,variant:"contained",color:"primary",children:Object(D.jsx)(M.a,{})})]})},H=n(135),B=n(74),K=n.n(B),L=n(72),U=n.n(L),V=n(73),z=n.n(V),G=function(e){var t=Math.floor(_.a.duration(e).asHours()),n=_.a.duration(e).minutes(),a=_.a.duration(e).seconds();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,"".concat(t=t<10?"0"+t:t,":").concat(n,":").concat(a)};var W=function(e){var t=Object(a.useState)(0),n=Object(l.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){var t;return e.isPaused?(clearInterval(t),i(e.pausingTime-e.startingTime)):t=setInterval((function(){i(Date.now()-e.startingTime)}),100),function(){clearInterval(t)}}),[e.isPaused]),Object(D.jsx)("span",{children:G(r)})},Y=n(3),q=Object(O.a)((function(e){return{root:{padding:e.spacing(2),marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",transition:".2s ease-in"},paused:{color:e.palette.action.disabled,backgroundColor:e.palette.action.disabledBackground,transition:".2s ease-out"}}}));var Q=function(e){var t=q(),n=Object(d.b)(),a=function(){return e.isPaused?n((t=e.timerId,a=Date.now(),{type:v,payload:{id:t,time:a}})):n(function(e,t){return{type:h,payload:{id:e,time:t}}}(e.timerId,Date.now()));var t,a};return Object(D.jsxs)(P.a,{className:Object(Y.a)(t.root,Object(u.a)({},t.paused,e.isPaused)),children:[Object(D.jsx)(S.a,{variant:"body1",children:e.title}),Object(D.jsxs)("div",{children:[Object(D.jsx)(W,{startingTime:e.startingTime,isPaused:e.isPaused,pausingTime:e.pausingTime}),Object(D.jsx)(H.a,{onClick:function(){return a()},children:e.isPaused?Object(D.jsx)(U.a,{color:"primary"}):Object(D.jsx)(z.a,{color:"primary"})}),Object(D.jsx)(H.a,{onClick:e.onRemove,children:Object(D.jsx)(K.a,{color:"error"})})]})]})},X=Object(O.a)((function(e){return{text:{padding:e.spacing(2),textAlign:"center"}}}));var Z=function(e){var t=Object(d.b)(),n=X();return e.timers.length?e.timers.map((function(e){return Object(D.jsx)(Q,{onRemove:function(){return t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return{type:p,payload:{id:e,deletingTime:t}}}(e.id))},isPaused:e.isPaused,startingTime:e.startingTime,pausingTime:e.pausingTime,timerId:e.id,title:e.title},e.id)})):Object(D.jsx)(S.a,{className:n.text,variant:"body1",color:"textSecondary",children:"Add new task"})};var $=function(e){var t=Object(d.c)((function(e){return e.timers}));return Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(F,{}),t.length?Object(D.jsx)(Z,{timers:t}):Object(D.jsx)(S.a,{variant:"body1",color:"textSecondary",style:{marginTop:"3em"},children:"Add new task"})]})},ee=n(136),te=n(137),ne=n(75),ae=n.n(ne),re=Object(O.a)((function(e){return{root:{marginTop:e.spacing(1),paddingRight:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left",transition:".2s ease-in"},paused:{color:e.palette.action.disabled,backgroundColor:e.palette.action.disabledBackground,transition:".2s ease-out"}}}));var ie=function(e){var t=re();return Object(D.jsxs)(ee.a,{className:Object(Y.a)(t.root,Object(u.a)({},t.paused,e.isPaused)),children:[Object(D.jsxs)(te.a,{children:[Object(D.jsx)(S.a,{color:"textSecondary",variant:"body2",gutterBottom:!0,children:_.a.duration(-(Date.now()-e.deletingTime)).humanize(!0)}),Object(D.jsx)(S.a,{variant:"body1",children:e.title})]}),Object(D.jsx)("div",{children:Object(D.jsx)(H.a,{onClick:e.onDestroy,children:Object(D.jsx)(ae.a,{color:"error"})})})]})},ce=Object(O.a)((function(e){return{text:{padding:e.spacing(2),textAlign:"center"}}}));var se=function(e){var t=Object(d.b)(),n=ce();return e.deletedTimers.length?e.deletedTimers.map((function(e){return Object(D.jsx)(ie,{onDestroy:function(){return t((n=e.id,{type:T,payload:{id:n}}));var n},startingTime:e.startingTime,deletingTime:e.deletingTime,timerId:e.id,title:e.title},e.id)})):Object(D.jsx)(S.a,{className:n.text,variant:"body1",color:"textSecondary",children:"Add new task"})};var oe=function(){var e=Object(d.c)((function(e){return e.deletedTimers}));return Object(D.jsx)(D.Fragment,{children:e.length?Object(D.jsx)(se,{deletedTimers:e}):Object(D.jsx)(S.a,{variant:"body1",color:"textSecondary",style:{marginTop:"3em"},children:"Deleted tasks not exist"})})};function de(e){var t=e.children,n=e.value,a=e.index,r=Object(b.a)(e,["children","value","index"]);return Object(D.jsx)("div",Object(j.a)(Object(j.a)({hidden:n!==a},r),{},{children:n===a&&Object(D.jsx)(m.a,{p:3,children:t})}))}var le=Object(O.a)((function(e){return{tabPanel:Object(u.a)({maxWidth:"560px",textAlign:"center",margin:"auto"},e.breakpoints.down("xs"),{})}}));var ue=function(e){e.children;var t=Object(d.b)(),n=Object(d.c)((function(e){return e.timers})),r=Object(d.c)((function(e){return e.deletedTimers})),i=le(),c=Object(a.useState)(0),s=Object(l.a)(c,2),o=s[0],u=s[1],j=function(){var e=JSON.parse(localStorage.getItem("deletedTimers")),n=JSON.parse(localStorage.getItem("timers"));e&&e.length&&t({type:f,payload:{timersArray:e}}),n&&n.length&&t(function(e){return{type:x,payload:{timersArray:e}}}(n))};return Object(a.useEffect)((function(){j()}),[]),Object(a.useEffect)((function(){localStorage.setItem("timers",JSON.stringify(n))}),[n]),Object(a.useEffect)((function(){localStorage.setItem("deletedTimers",JSON.stringify(r))}),[r]),Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(w,{tabChangeHandler:function(e,t){u(t)},tabValue:o}),Object(D.jsxs)("div",{className:i.tabPanel,children:[Object(D.jsx)(de,{value:o,index:0,children:Object(D.jsx)($,{})}),Object(D.jsx)(de,{value:o,index:1,children:Object(D.jsx)(oe,{})})]})]})},je=n(48),be=n(60),me={timers:[],deletedTimers:[]};var Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case g:return Object(j.a)(Object(j.a)({},e),{},{timers:[n].concat(Object(be.a)(e.timers))});case p:var r=e.timers.find((function(e){return e.id===n.id}));return r?Object(j.a)(Object(j.a)({},e),{},{timers:e.timers.filter((function(e){return e.id!==n.id})),deletedTimers:[Object(j.a)(Object(j.a)({},r),{},{deletingTime:n.deletingTime})].concat(Object(be.a)(e.deletedTimers))}):Object(j.a)({},e);case v:return console.log(e),Object(j.a)(Object(j.a)({},e),{},{timers:e.timers.map((function(e){return e.id===n.id?Object(j.a)(Object(j.a)({},e),{},{isPaused:!1,pausingTime:e.pausingTime,startingTime:e.startingTime+(n.time-e.pausingTime)}):e}))});case h:return console.log(e),Object(j.a)(Object(j.a)({},e),{},{timers:e.timers.map((function(e){return e.id===n.id?Object(j.a)(Object(j.a)({},e),{},{isPaused:!0,pausingTime:n.time}):e}))});case x:return Object(j.a)(Object(j.a)({},e),{},{timers:n.timersArray});case f:return Object(j.a)(Object(j.a)({},e),{},{deletedTimers:n.timersArray});case T:return Object(j.a)(Object(j.a)({},e),{},{deletedTimers:e.deletedTimers.filter((function(e){return e.id!==n.id}))});default:return e}},ge=Object(je.b)(Oe),pe=n(76),xe=n(55),fe=n(138),he=Object(pe.a)({palette:{type:"light",primary:{main:xe.a[500]},secondary:{main:fe.a[400]}}});var ve=function(){return Object(D.jsx)(d.a,{store:ge,children:Object(D.jsxs)(s.a,{theme:he,children:[Object(D.jsx)(o.a,{}),Object(D.jsx)(ue,{})]})})};n(99);c.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(ve,{})}),document.getElementById("root"))}},[[100,1,2]]]);
//# sourceMappingURL=main.2efa35b9.chunk.js.map