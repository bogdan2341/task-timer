(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(11),c=n.n(i),s=n(141),o=n(142),d=n(10),l=n(38),u=n(24),j=n(9),b=n(80),m=n(144),O=n(130),g="ADD_TASK_TIMER",f="DELETE_TASK_TIMER",p="SET_TIMERS",x="SET_DELETED_TIMERS",h="PAUSE_TIMER",v="RESUME_TIMER",y="DESTROY_DELETED_TIMER",T=n(27),k=n(134),S=n(135),E=n(136),D=n(145),I=n(137),A=n(132),C=n(72),w=n.n(C),P=n(73),R=n.n(P),_="TOGGLE_DARK_MODE",M="SET_DARK_THEME",N=n(3),H=Object(O.a)((function(e){return{root:{position:"absolute",top:e.spacing(.5),right:e.spacing(1)}}}));var J=function(){var e=H(),t=Object(d.b)(),n=Object(d.c)((function(e){return e.settings.isDark}));return Object(N.jsx)(A.a,{className:e.root,onClick:function(){return t({type:_})},children:n?Object(N.jsx)(w.a,{}):Object(N.jsx)(R.a,{htmlColor:"#fff"})})};var L=function(e){var t=e.count,n=e.title,r=Object(T.a)();return Object(N.jsxs)("div",{children:[n,!!t&&Object(N.jsx)("span",{style:{backgroundColor:r.palette.secondary.main,borderRadius:"50%",padding:".1em .4em",marginLeft:".4rem"},children:t})]})};var F=function(e){var t=e.tabValue,n=e.tabChangeHandler,r=Object(d.c)((function(e){return e.settings.isDark})),a=Object(d.c)((function(e){return e.timersStore.timers})),i=Object(d.c)((function(e){return e.timersStore.deletedTimers})),c=Object(T.a)();return Object(N.jsxs)(k.a,{position:"sticky",style:{backgroundColor:r&&c.palette.background.paper},children:[Object(N.jsxs)(S.a,{children:[Object(N.jsx)(E.a,{variant:"h5",style:{margin:"auto"},children:"Tasks Timer"}),Object(N.jsx)(J,{})]}),Object(N.jsxs)(D.a,{value:t,onChange:n,indicatorColor:"secondary",centered:!0,children:[Object(N.jsx)(I.a,{label:Object(N.jsx)(L,{count:a.length,title:"Current"})}),Object(N.jsx)(I.a,{label:Object(N.jsx)(L,{count:i.length,title:"Deleted"})})]})]})},K=n(83),B=n(143),G=n(138),U=n(74),V=n.n(U),z=n(28),W=n.n(z),Y=Object(O.a)((function(e){return{root:{padding:e.spacing(2),display:"flex",justifyContent:"space-between"},textField:{flexGrow:2,marginRight:e.spacing(1)}}}));var q=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),n=t[0],a=t[1],i=Object(d.b)(),c=Y(),s=function(){var e=n||"Task#[".concat(W()().format("HH:mm:ss"),"]");return a(""),i(function(e,t,n){return{type:g,payload:{id:e,title:t,startingTime:n,pausingTime:0,isPaused:!1}}}(Math.random().toString(36).substr(2,9),e,Date.now()))};return Object(N.jsxs)(K.a,{className:c.root,children:[Object(N.jsx)(B.a,{variant:"outlined",className:c.textField,type:"text",onChange:function(e){return a(e.target.value)},value:n,label:"Task title",onKeyPress:function(e){"Enter"===e.key&&s()}}),Object(N.jsx)(G.a,{onClick:s,variant:"contained",color:"primary",children:Object(N.jsx)(V.a,{})})]})},Q=n(77),X=n.n(Q),Z=n(75),$=n.n(Z),ee=n(76),te=n.n(ee),ne=function(e){var t=Math.floor(W.a.duration(e).asHours()),n=W.a.duration(e).minutes(),r=W.a.duration(e).seconds();return n=n<10?"0"+n:n,r=r<10?"0"+r:r,"".concat(t=t<10?"0"+t:t,":").concat(n,":").concat(r)};var re=function(e){var t=Object(r.useState)(0),n=Object(l.a)(t,2),a=n[0],i=n[1];return Object(r.useEffect)((function(){var t;return e.isPaused?(clearInterval(t),i(e.pausingTime-e.startingTime)):t=setInterval((function(){i(Date.now()-e.startingTime)}),100),function(){clearInterval(t)}}),[e.isPaused]),Object(N.jsx)("span",{children:ne(a)})},ae=n(4),ie=Object(O.a)((function(e){return{root:{padding:e.spacing(2),marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",transition:".2s ease-in"},paused:{color:e.palette.action.disabled,backgroundColor:"dark"===e.palette.type?e.palette.grey.A700:e.palette.grey[100],transition:".2s ease-out"}}}));var ce=function(e){var t=ie(),n=Object(d.b)(),r=function(){return e.isPaused?n((t=e.timerId,r=Date.now(),{type:v,payload:{id:t,time:r}})):n(function(e,t){return{type:h,payload:{id:e,time:t}}}(e.timerId,Date.now()));var t,r};return Object(N.jsxs)(K.a,{className:Object(ae.a)(t.root,Object(u.a)({},t.paused,e.isPaused)),children:[Object(N.jsx)(E.a,{variant:"body1",children:e.title}),Object(N.jsxs)("div",{children:[Object(N.jsx)(re,{startingTime:e.startingTime,isPaused:e.isPaused,pausingTime:e.pausingTime}),Object(N.jsx)(A.a,{onClick:function(){return r()},children:e.isPaused?Object(N.jsx)($.a,{color:"primary"}):Object(N.jsx)(te.a,{color:"primary"})}),Object(N.jsx)(A.a,{onClick:e.onRemove,children:Object(N.jsx)(X.a,{color:"error"})})]})]})},se=Object(O.a)((function(e){return{text:{padding:e.spacing(2),textAlign:"center"}}}));var oe=function(e){var t=Object(d.b)(),n=se();return e.timers.length?e.timers.map((function(e){return Object(N.jsx)(ce,{onRemove:function(){return t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return{type:f,payload:{id:e,deletingTime:t}}}(e.id))},isPaused:e.isPaused,startingTime:e.startingTime,pausingTime:e.pausingTime,timerId:e.id,title:e.title},e.id)})):Object(N.jsx)(E.a,{className:n.text,variant:"body1",color:"textSecondary",children:"Add new task"})};var de=function(){var e=Object(d.c)((function(e){return e.timersStore.timers}));return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(q,{}),e.length?Object(N.jsx)(oe,{timers:e}):Object(N.jsx)(E.a,{variant:"body1",color:"textSecondary",style:{marginTop:"3em"},children:"Add new task"})]})},le=n(139),ue=n(140),je=n(78),be=n.n(je),me=Object(O.a)((function(e){return{root:{marginTop:e.spacing(1),paddingRight:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left",transition:".2s ease-in"},paused:{color:e.palette.action.disabled,backgroundColor:e.palette.action.disabledBackground,transition:".2s ease-out"}}}));var Oe=function(e){var t=me();return Object(N.jsxs)(le.a,{className:Object(ae.a)(t.root,Object(u.a)({},t.paused,e.isPaused)),children:[Object(N.jsxs)(ue.a,{children:[Object(N.jsx)(E.a,{color:"textSecondary",variant:"body2",gutterBottom:!0,children:W.a.duration(-(Date.now()-e.deletingTime)).humanize(!0)}),Object(N.jsx)(E.a,{variant:"body1",children:e.title})]}),Object(N.jsx)("div",{children:Object(N.jsx)(A.a,{onClick:e.onDestroy,children:Object(N.jsx)(be.a,{color:"error"})})})]})},ge=Object(O.a)((function(e){return{text:{padding:e.spacing(2),textAlign:"center"}}}));var fe=function(e){var t=Object(d.b)(),n=ge();return e.deletedTimers.length?e.deletedTimers.map((function(e){return Object(N.jsx)(Oe,{onDestroy:function(){return t((n=e.id,{type:y,payload:{id:n}}));var n},startingTime:e.startingTime,deletingTime:e.deletingTime,timerId:e.id,title:e.title},e.id)})):Object(N.jsx)(E.a,{className:n.text,variant:"body1",color:"textSecondary",children:"Add new task"})};var pe=function(){var e=Object(d.c)((function(e){return e.timersStore.deletedTimers}));return Object(N.jsx)(N.Fragment,{children:e.length?Object(N.jsx)(fe,{deletedTimers:e}):Object(N.jsx)(E.a,{variant:"body1",color:"textSecondary",style:{marginTop:"3em"},children:"Deleted tasks not exist"})})};function xe(e){var t=e.children,n=e.value,r=e.index,a=Object(b.a)(e,["children","value","index"]);return Object(N.jsx)("div",Object(j.a)(Object(j.a)({hidden:n!==r},a),{},{children:n===r&&Object(N.jsx)(m.a,{p:3,children:t})}))}var he=Object(O.a)((function(e){return{tabPanel:Object(u.a)({maxWidth:"560px",textAlign:"center",margin:"auto"},e.breakpoints.down("xs"),{})}}));var ve=function(e){e.children;var t=Object(d.b)(),n=Object(d.c)((function(e){return e.timersStore.timers})),a=Object(d.c)((function(e){return e.timersStore.deletedTimers})),i=he(),c=Object(r.useState)(0),s=Object(l.a)(c,2),o=s[0],u=s[1],j=function(){var e=JSON.parse(localStorage.getItem("deletedTimers")),n=JSON.parse(localStorage.getItem("timers"));e&&e.length&&t({type:x,payload:{timersArray:e}}),n&&n.length&&t(function(e){return{type:p,payload:{timersArray:e}}}(n))};return Object(r.useEffect)((function(){j()}),[]),Object(r.useEffect)((function(){localStorage.setItem("timers",JSON.stringify(n))}),[n]),Object(r.useEffect)((function(){localStorage.setItem("deletedTimers",JSON.stringify(a))}),[a]),Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)(F,{tabChangeHandler:function(e,t){u(t)},tabValue:o}),Object(N.jsxs)("div",{className:i.tabPanel,children:[Object(N.jsx)(xe,{value:o,index:0,children:Object(N.jsx)(de,{})}),Object(N.jsx)(xe,{value:o,index:1,children:Object(N.jsx)(pe,{})})]})]})},ye=n(79),Te=n(55),ke=n(56);var Se=function(e){return console.log(e),"undefined"===typeof e&&(e="dark"===localStorage.getItem("theme")),Object(ye.a)({palette:{type:e?"dark":"light",primary:{main:e?Te.a[400]:Te.a[500]},secondary:{main:e?Te.a[400]:ke.a.A100}}})};var Ee=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.settings.isDark}));return Object(r.useLayoutEffect)((function(){var t="dark"===localStorage.getItem("theme");e(function(e){return{type:M,payload:{isDark:e}}}(t))}),[]),Object(r.useEffect)((function(){localStorage.setItem("theme",t?"dark":"light")}),[t]),Object(N.jsxs)(s.a,{theme:Se(t),children:[Object(N.jsx)(o.a,{}),Object(N.jsx)(ve,{})]})},De=(n(102),n(43)),Ie=n(61),Ae={timers:[],deletedTimers:[]};var Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0,n=t.payload,r=t.type;switch(r){case g:return Object(j.a)(Object(j.a)({},e),{},{timers:[n].concat(Object(Ie.a)(e.timers))});case f:var a=e.timers.find((function(e){return e.id===n.id}));return a?Object(j.a)(Object(j.a)({},e),{},{timers:e.timers.filter((function(e){return e.id!==n.id})),deletedTimers:[Object(j.a)(Object(j.a)({},a),{},{deletingTime:n.deletingTime})].concat(Object(Ie.a)(e.deletedTimers))}):Object(j.a)({},e);case v:return console.log(e),Object(j.a)(Object(j.a)({},e),{},{timers:e.timers.map((function(e){return e.id===n.id?Object(j.a)(Object(j.a)({},e),{},{isPaused:!1,pausingTime:e.pausingTime,startingTime:e.startingTime+(n.time-e.pausingTime)}):e}))});case h:return console.log(e),Object(j.a)(Object(j.a)({},e),{},{timers:e.timers.map((function(e){return e.id===n.id?Object(j.a)(Object(j.a)({},e),{},{isPaused:!0,pausingTime:n.time}):e}))});case p:return Object(j.a)(Object(j.a)({},e),{},{timers:n.timersArray});case x:return Object(j.a)(Object(j.a)({},e),{},{deletedTimers:n.timersArray});case y:return Object(j.a)(Object(j.a)({},e),{},{deletedTimers:e.deletedTimers.filter((function(e){return e.id!==n.id}))});default:return e}},we={isDark:!1,pallet:{primary:"#3f51b5",secondary:"#ab47bc"}},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case _:return Object(j.a)(Object(j.a)({},e),{},{isDark:!e.isDark});case M:return Object(j.a)(Object(j.a)({},e),{},{isDark:r.isDark});default:return e}},Re=Object(De.c)(Object(De.b)({timersStore:Ce,settings:Pe}));c.a.render(Object(N.jsx)(a.a.StrictMode,{children:Object(N.jsx)(d.a,{store:Re,children:Object(N.jsx)(Ee,{})})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.9b5106df.chunk.js.map