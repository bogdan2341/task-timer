(this["webpackJsonptask-timer"]=this["webpackJsonptask-timer"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),i=n.n(c),s=n(141),o=n(142),u=n(10),d=n(38),j=n(36),l=n(9),b=n(80),O=n(144),m=n(130),g="ADD_TASK",f="DONE_TASK",p="SET_TASKS",T="SET_DONE_TASKS",x="PAUSE_TASK",h="RESUME_TASK",k="DELETE_DONE_TASK",v=n(26),y=n(134),S=n(135),D=n(136),E=n(145),A=n(137),P=n(132),C=n(72),I=n.n(C),w=n(73),N=n.n(w),_="TOGGLE_DARK_MODE",K="SET_DARK_THEME",H=n(3),J=Object(m.a)((function(e){return{root:{position:"absolute",top:e.spacing(.5),right:e.spacing(1)}}}));var M=function(){var e=J(),t=Object(u.b)(),n=Object(u.c)((function(e){return e.settings.isDark}));return Object(H.jsx)(P.a,{className:e.root,onClick:function(){return t({type:_})},children:n?Object(H.jsx)(I.a,{}):Object(H.jsx)(N.a,{htmlColor:"#fff"})})};var R=function(e){var t=e.count,n=e.title,a=Object(v.a)();return Object(H.jsxs)("div",{children:[n,!!t&&Object(H.jsx)("span",{style:{backgroundColor:a.palette.secondary.main,borderRadius:"1rem",padding:".1em .4em",marginLeft:".4rem"},children:t})]})};var F=function(e){var t=e.tabValue,n=e.tabChangeHandler,a=Object(u.c)((function(e){return e.settings.isDark})),r=Object(u.c)((function(e){return e.tasks.currentTasks})),c=Object(u.c)((function(e){return e.tasks.doneTasks})),i=Object(v.a)();return Object(H.jsxs)(y.a,{position:"sticky",style:{backgroundColor:a&&i.palette.background.paper},children:[Object(H.jsxs)(S.a,{children:[Object(H.jsx)(D.a,{variant:"h5",style:{margin:"auto"},children:"Tasks Timer"}),Object(H.jsx)(M,{})]}),Object(H.jsxs)(E.a,{value:t,onChange:n,indicatorColor:"secondary",centered:!0,children:[Object(H.jsx)(A.a,{label:Object(H.jsx)(R,{count:r.length,title:"Current"})}),Object(H.jsx)(A.a,{label:Object(H.jsx)(R,{count:c.length,title:"Done"})})]})]})},L=n(83),B=n(143),G=n(138),U=n(74),V=n.n(U),z=n(27),W=n.n(z),q=Object(m.a)((function(e){return{root:{padding:e.spacing(2),display:"flex",justifyContent:"space-between"},textField:{flexGrow:2,marginRight:e.spacing(1)}}}));var Q=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],r=t[1],c=Object(u.b)(),i=q(),s=function(){var e=n||"Task#[".concat(W()().format("HH:mm:ss"),"]");return r(""),c(function(e,t,n){return{type:g,payload:{id:e,title:t,startingTime:n,pausingTime:0,isPaused:!1}}}(Math.random().toString(36).substr(2,9),e,Date.now()))};return Object(H.jsxs)(L.a,{className:i.root,children:[Object(H.jsx)(B.a,{variant:"outlined",className:i.textField,type:"text",onChange:function(e){return r(e.target.value)},value:n,label:"Task title",onKeyPress:function(e){"Enter"===e.key&&s()}}),Object(H.jsx)(G.a,{onClick:s,variant:"contained",color:"primary",children:Object(H.jsx)(V.a,{})})]})},X=n(77),Y=n.n(X),Z=n(75),$=n.n(Z),ee=n(76),te=n.n(ee),ne=function(e){var t=Math.floor(W.a.duration(e).asHours()),n=W.a.duration(e).minutes(),a=W.a.duration(e).seconds();return n=n<10?"0"+n:n,a=a<10?"0"+a:a,"".concat(t=t<10?"0"+t:t,":").concat(n,":").concat(a)};var ae=function(e){var t=Object(a.useState)(0),n=Object(d.a)(t,2),r=n[0],c=n[1];return Object(a.useEffect)((function(){var t;return e.isPaused?(clearInterval(t),c(e.pausingTime-e.startingTime)):t=setInterval((function(){c(Date.now()-e.startingTime)}),100),function(){clearInterval(t)}}),[e.isPaused]),Object(H.jsx)("span",{children:ne(r)})},re=n(4),ce=Object(m.a)((function(e){return{root:{padding:e.spacing(2),marginTop:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",transition:".2s ease-in"},paused:{color:e.palette.action.disabled,backgroundColor:"dark"===e.palette.type?e.palette.grey.A700:e.palette.grey[100],transition:".2s ease-out"}}}));var ie=function(e){var t=ce(),n=Object(u.b)(),a=function(){return e.isPaused?n((t=e.timerId,a=Date.now(),{type:h,payload:{id:t,time:a}})):n(function(e,t){return{type:x,payload:{id:e,time:t}}}(e.timerId,Date.now()));var t,a};return Object(H.jsxs)(L.a,{className:Object(re.a)(t.root,Object(j.a)({},t.paused,e.isPaused)),children:[Object(H.jsx)(D.a,{variant:"body1",children:e.title}),Object(H.jsxs)("div",{children:[Object(H.jsx)(ae,{startingTime:e.startingTime,isPaused:e.isPaused,pausingTime:e.pausingTime}),Object(H.jsx)(P.a,{onClick:function(){return a()},children:e.isPaused?Object(H.jsx)($.a,{color:"primary"}):Object(H.jsx)(te.a,{color:"primary"})}),Object(H.jsx)(P.a,{onClick:e.onDone,children:Object(H.jsx)(Y.a,{color:"primary"})})]})]})};var se=function(e){var t=Object(u.b)();return e.timers.map((function(e){return Object(H.jsx)(ie,{onDone:function(){return t(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();return{type:f,payload:{id:e,doneTime:t}}}(e.id))},isPaused:e.isPaused,startingTime:e.startingTime,pausingTime:e.pausingTime,timerId:e.id,title:e.title},e.id)}))};var oe=function(){var e=Object(u.c)((function(e){return e.tasks.currentTasks}));return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(Q,{}),e.length?Object(H.jsx)(se,{timers:e}):Object(H.jsx)(D.a,{variant:"body1",color:"textSecondary",style:{marginTop:"3em"},children:"Add new task"})]})},ue=n(139),de=n(140),je=n(78),le=n.n(je),be=Object(m.a)((function(e){return{root:{marginTop:e.spacing(1),paddingRight:e.spacing(1),display:"flex",justifyContent:"space-between",alignItems:"center",textAlign:"left",transition:".2s ease-in"}}}));var Oe=function(e){var t,n=be();return t=e.isPaused?e.pausingTime-e.startingTime:e.doneTime-e.startingTime,Object(H.jsxs)(ue.a,{className:n.root,children:[Object(H.jsxs)(de.a,{children:[Object(H.jsxs)(D.a,{color:"textSecondary",variant:"body2",gutterBottom:!0,children:["Done"," ",W.a.duration(-(Date.now()-e.doneTime)).humanize(!0)]}),Object(H.jsx)(D.a,{variant:"body1",children:e.title}),Object(H.jsx)(D.a,{color:"textSecondary",variant:"body2",gutterBottom:!0,children:ne(t)})]}),Object(H.jsx)(P.a,{onClick:e.onDelete,children:Object(H.jsx)(le.a,{color:"error"})})]})};var me=function(e){var t=Object(u.b)();return e.doneTasks.map((function(e){return Object(H.jsx)(Oe,{onDelete:function(){return t((n=e.id,{type:k,payload:{id:n}}));var n},startingTime:e.startingTime,doneTime:e.doneTime,pausingTime:e.pausingTime,isPaused:e.isPaused,timerId:e.id,title:e.title},e.id)}))};var ge=function(){var e=Object(u.c)((function(e){return e.tasks.doneTasks}));return Object(H.jsx)(H.Fragment,{children:e.length?Object(H.jsx)(me,{doneTasks:e}):Object(H.jsx)(D.a,{variant:"body1",color:"textSecondary",style:{marginTop:"3em"},children:"Deleted tasks not exist"})})};function fe(e){var t=e.children,n=e.value,a=e.index,r=Object(b.a)(e,["children","value","index"]);return Object(H.jsx)("div",Object(l.a)(Object(l.a)({hidden:n!==a},r),{},{children:n===a&&Object(H.jsx)(O.a,{p:3,children:t})}))}var pe=Object(m.a)((function(e){return{tabPanel:Object(j.a)({maxWidth:"560px",textAlign:"center",margin:"auto"},e.breakpoints.down("xs"),{})}}));var Te=function(e){e.children;var t=Object(u.b)(),n=Object(u.c)((function(e){return e.tasks.currentTasks})),r=Object(u.c)((function(e){return e.tasks.doneTasks})),c=pe(),i=Object(a.useState)(0),s=Object(d.a)(i,2),o=s[0],j=s[1],l=function(){var e=JSON.parse(localStorage.getItem("deletedTimers")),n=JSON.parse(localStorage.getItem("timers"));e&&e.length&&t({type:T,payload:{doneTasksArray:e}}),n&&n.length&&t({type:p,payload:{tasksArray:n}})};return Object(a.useEffect)((function(){l()}),[]),Object(a.useEffect)((function(){localStorage.setItem("timers",JSON.stringify(n))}),[n]),Object(a.useEffect)((function(){localStorage.setItem("deletedTimers",JSON.stringify(r))}),[r]),Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(F,{tabChangeHandler:function(e,t){j(t)},tabValue:o}),Object(H.jsxs)("div",{className:c.tabPanel,children:[Object(H.jsx)(fe,{value:o,index:0,children:Object(H.jsx)(oe,{})}),Object(H.jsx)(fe,{value:o,index:1,children:Object(H.jsx)(ge,{})})]})]})},xe=n(79),he=n(55),ke=n(56);var ve=function(e){return console.log(e),"undefined"===typeof e&&(e="dark"===localStorage.getItem("theme")),Object(xe.a)({palette:{type:e?"dark":"light",primary:{main:e?he.a[400]:he.a[500]},secondary:{main:e?he.a[400]:ke.a.A100}}})};var ye=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.settings.isDark}));return Object(a.useLayoutEffect)((function(){var t="dark"===localStorage.getItem("theme");e(function(e){return{type:K,payload:{isDark:e}}}(t))}),[]),Object(a.useEffect)((function(){localStorage.setItem("theme",t?"dark":"light")}),[t]),Object(H.jsxs)(s.a,{theme:ve(t),children:[Object(H.jsx)(o.a,{}),Object(H.jsx)(Te,{})]})},Se=(n(102),n(43)),De=n(61),Ee={currentTasks:[],doneTasks:[]};var Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee,t=arguments.length>1?arguments[1]:void 0,n=t.payload,a=t.type;switch(a){case g:return Object(l.a)(Object(l.a)({},e),{},{currentTasks:[n].concat(Object(De.a)(e.currentTasks))});case f:var r=e.currentTasks.find((function(e){return e.id===n.id}));return r?Object(l.a)(Object(l.a)({},e),{},{currentTasks:e.currentTasks.filter((function(e){return e.id!==n.id})),doneTasks:[Object(l.a)(Object(l.a)({},r),{},{doneTime:n.doneTime})].concat(Object(De.a)(e.doneTasks))}):Object(l.a)({},e);case h:return Object(l.a)(Object(l.a)({},e),{},{currentTasks:e.currentTasks.map((function(e){return e.id===n.id?Object(l.a)(Object(l.a)({},e),{},{isPaused:!1,pausingTime:0,startingTime:e.startingTime+(n.time-e.pausingTime)}):e}))});case x:return Object(l.a)(Object(l.a)({},e),{},{currentTasks:e.currentTasks.map((function(e){return e.id===n.id?Object(l.a)(Object(l.a)({},e),{},{isPaused:!0,pausingTime:n.time}):e}))});case p:return Object(l.a)(Object(l.a)({},e),{},{currentTasks:n.tasksArray});case T:return Object(l.a)(Object(l.a)({},e),{},{doneTasks:n.doneTasksArray});case k:return Object(l.a)(Object(l.a)({},e),{},{doneTasks:e.doneTasks.filter((function(e){return e.id!==n.id}))});default:return e}},Pe={isDark:!1,pallet:{primary:"#3f51b5",secondary:"#ab47bc"}},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.payload;switch(n){case _:return Object(l.a)(Object(l.a)({},e),{},{isDark:!e.isDark});case K:return Object(l.a)(Object(l.a)({},e),{},{isDark:a.isDark});default:return e}},Ie=Object(Se.c)(Object(Se.b)({tasks:Ae,settings:Ce}));i.a.render(Object(H.jsx)(r.a.StrictMode,{children:Object(H.jsx)(u.a,{store:Ie,children:Object(H.jsx)(ye,{})})}),document.getElementById("root"))}},[[103,1,2]]]);
//# sourceMappingURL=main.cf9c4807.chunk.js.map